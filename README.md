# 实验报告模板

## 小组成员

- 2021131027-王晨 （组长）
- 2021131028-翁忠旭
- 2021131050-张蕊
- 2021131051-黄诗怡
- 2021131053-吕梓桐
- 2021131077-程诗杰


## 代码仓库链接

https://github.com/OrrrGE/blockchain-in-js-workshop-2021



## 第一课代码  


### 代码 commint 地址

https://github.com/OrrrGE/blockchain-in-js-workshop-2021/commit/1fc409dab021caf8bec5a8bc5c8de2d3b3549c9d


### 代码截图

![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab1.1.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab1.2.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab1.3.png)  
### 主观与讨论题内容



---

## 第二课代码


### 代码 commint 地址

https://github.com/OrrrGE/blockchain-in-js-workshop-2021/commit/9ab5f8c63bf3a3e10498f2a0010fd2982a19a0a9


### 代码截图

![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab2.1.png)   
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab2.2.png) 

### 主观与讨论题内容
Pow的优缺点：  
优点：  
（1）Pow依托安全且可靠的加密算法如SHA256，算法比较简单，实现难度较低。  
（2）节点之间不需要额外的消息达成共识，节点只需要接受一个待验证的区块并对该区块进行验证就可以完成区块链的记录。  
（3）倘若需要破坏区块链系统，攻击者需要投入极大的成本，因为Pow的需要很大的能源需求，导致经济成本非常高，想利用超过50%的恶意节点达成共识来攻击区块链的话，攻击者所投入的资本远大于他所获得的利益，从经济效益上保证了系统的安全性。  
缺点：  
（1）能源浪费：Pow挖矿需要大量的矿机，导致计算一个Hash值上的电力投入很大，如果挖矿失败，所投入的能源就相当于白费，得不到任务的回报。  
（2）存在弱去中心化：由于挖矿的成本高，矿机设备产生，越来越多的算力会集中在一起，仅仅是依靠普通的个体用户挖矿成功的概率非常低，矿工算力集中化程度越来越高，这也导致了中心化趋势加强，挖矿能力集中在部分人手里，可能会导致51%的系统攻击。  
（3）区块交易的效率低：全网的节点不仅要算力竞争获取记账权，同时也要对区块进行验证和确认达成一致的公链，系统运行的速度在短时间内是比较慢的，导致比特币每秒的交易次数很少，成功记账的时间间隔很长，远远无法满足如今巨大的金融交易现状。  
（4）比特币的区块奖励每四年会减半，导致挖矿的成本和挖矿所得到的收益不成正比，甚至出现投入大于收益，降低了用户挖矿的积极性，大量的算力流失的同时比特币网络安全性也减弱。  
  
提高挖矿效率的方法：  
提高CPU/GPU 的使用率、优化网络带宽、使用专业挖矿设备比如矿机、GPU 集群，优化挖矿脚本、如何设置挖矿参数等，可以提高挖矿效率。




---


## 第三课代码


### 代码 commint 地址

https://github.com/OrrrGE/blockchain-in-js-workshop-2021/commit/4c28ef1ff42d5322a22326d50f1eb19908205ce3


### 代码截图

> 将截图上传至网盘，放入链接即可

![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab3.1.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab3.2.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab3.3.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab3.4.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab3.5.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab3.6.png)  


### 主观与讨论题内容



---




## 第四课代码


### 代码 commint 地址

https://github.com/OrrrGE/blockchain-in-js-workshop-2021/commit/107fd3d1a5c7c9df5baad764fccc6786aac77ddf#diff-cdb985a68d9b1623904629f328342d75cd29b52a9d13002fd209b67ad96affad


### 代码截图

![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab4.1.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab4.2.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab4.3.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab4.4.png) 


### 主观与讨论题内容



---




## 第五课代码


### 代码 commint 地址

https://github.com/OrrrGE/blockchain-in-js-workshop-2021/commit/2c08882302301b6341880df7584d5f14197b29f2


### 代码截图

![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab5.1.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab5.2.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab5.3.png)  


### 主观与讨论题内容

比特币交易处理极限主要受几个因素的限制:  
1. 区块大小限制:比特币当前的区块大小限制是1MB,这意味着每个区块可以容纳的交易数量是有限的,大约在2000-3000笔交易。如果交易量超过区块容量,会导致交易堵塞和确认时间增加。  
2. 凑块时间:比特币的区块间隔时间是10分钟,这意味着每10分钟才可以有一个新的区块被挖出来,交易被确认和记录在区块链上。如果交易量激增,这会限制交易的处理速度。  
3. 挖矿难度:挖矿难度决定了找到一个有效区块需要的计算量。如果难度过高,挖矿者需要更长时间才能找到一个区块,这会减慢交易处理速度。  
  
区块大小限制与挖矿难度之间存在比较复杂的关系:  
  
1. 区块大小增加可以直接增加交易处理能力,但是也会增加区块链数据量和对矿工的要求,可能导致矿工集中化。这可能会推高挖矿难度。  
2. 挖矿难度上升会使得找区块变得更困难,减慢区块生成速度,降低交易处理速度。这可能会产生呼声来增加区块大小以应对交易需求。  
3. 区块大小和挖矿难度都可能因比特币价格而波动。比特币价格上涨可能会带来更高的交易量和更多的挖矿能力,推高难度和区块大小。下跌则相反。  
所以,比特币的交易处理能力需要在区块大小和挖矿难度之间达到平衡。两个参数的设置都需要谨慎考虑,以确保比特币网络的安全性和交易处理效率。  

#### 加分项

通过Debugger调试区块打包逻辑  
1.设置断点  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab5.4.png)  
2.验证交易是否合法  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab5.5.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab5.6.png)  
3.对UTXOPool进行更新  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab5.7.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab5.8.png)  
4.将交易存入区块中的默克尔树中  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab5.9.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab5.10.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab5.11.png)  
5.更新区块头的哈希值  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab5.12.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab5.13.png)  





## 第六课代码


### 代码 commint 地址

#第一次大部分代码的修改： https://github.com/OrrrGE/blockchain-in-js-workshop-2021/commit/e01a1a44ed0d969684087c2bdc13f4e102f4de47  
#第二次小改动： https://github.com/OrrrGE/blockchain-in-js-workshop-2021/commit/a7df7346716fbb7de128906bbb7bfce45f016258  


### 代码截图

![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab6.6.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab6.1.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab6.2.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab6.3.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab6.4.png)  
![image](https://github.com/OrrrGE/blockchain-in-js-workshop-2021/blob/lesson1/pic/lab6.5.png)  


### 主观与讨论题内容
1.要求需要快速确认的交易交易费用更高，反之对交易确认没有那么急的交易交易费用更低，网络拥堵时的交易费用比网络通畅时的交易费用高，交易的字节数越多，交易费越高  
2.矿工激励减弱：交易费用是矿工获得收入的一种方式，特别是在比特币发行量减半的情况下。如果取消交易费用，矿工的收入将只依赖区块奖励，这可能导致矿工激励减弱，从而影响比特币网络的安全性。  
交易拥堵：交易费用是一种市场机制，帮助平衡交易需求和区块链的有限空间。如果取消交易费用，用户可以免费发送大量交易，导致交易拥堵，处理速度变慢。  
垃圾交易增多：没有交易费用，恶意用户可能会刷交易，发送大量无意义的交易，浪费网络资源。  
挑选优先级的困难：矿工通常会优先选择交易费较高的交易，以获得更高的收益。没有交易费用，矿工在处理交易时可能难以确定优先级。  
网络安全风险增加：由于矿工激励减弱和网络资源浪费，比特币网络可能变得更容易受到攻击，例如双花攻击、51%攻击等。


---


## 结课报告





